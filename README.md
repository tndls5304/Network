# 통신할때 캡슐화 과정 정리 
![image](https://github.com/user-attachments/assets/8abb9cf0-6994-42b2-bb5d-e11eaa0fdfbd)
![image](https://github.com/user-attachments/assets/efeeea0c-2568-429a-81ae-561935366ad5)

### Mac 주소를 설정할때 MAC 주소는 최종 목적지의 MAC 주소가 아닌,  현재 통신 경로 상에서 다음으로 도착할 장치의 MAC 주소를 설정하는것!
*** ******* ******  *********** 
# 라우터
![image](https://github.com/user-attachments/assets/ba2bd407-20cc-4806-8162-ffc4dc7bb728)
### 라우터란 둘 혹은 그 이상의 네트워크와 네트워크 간 데이터 전송을 위해 최적 경로를 설정해주며 데이터를 해당 경로를 따라 한 통신망에서 다른 통신망으로 통신할 수 있도록 도와주는 인터넷 접속 장비이다.
### 내부 네트워크와 외부 네트워크를 연결해주는 장치
### 데이터들이 전송되는 경로(route)를 설정하는 장치(router)
*** ******* ******  *********** 
# 라우팅

### 라우팅은 쉽게 말해 서로 다른 네트워크 대역에 있는 장치 간 통신을 할 때 최적의 경로를 통해 통신을 가능하게 해 주는 것을 말한다.
### 최적의 경로라 함은 주어진 데이터를 가장 짧거나 가장 빠른 시간 안에 전송할 수 있는 경로를 말한다.
### 라우터는 라우팅 테이블을 사용하여 최적의 경로를 선택한다. 
*** ******* ******  *********** 
# 라우팅 테이블 
### 목적지까지 갈 수 있는 모든 가능성있는 경로들 중에서 가장 효율적이라고 판단되는 경로 정보는 패킷을 전달할 때 바로 참고해서 사용할 수 있도록 따로 모아두는데 이 공간을 라우팅 테이블(Routing Table)이라고 한다.
### 라우터가 패킷을 어디로 전송할지 경로를 결정하는 방법은 라우팅 테이블을 참조하여 결정한다.
*** ******* ******  *********** 
# 라우팅 테이블의 동작 방식
### 1.패킷 수신:
#### 라우터가 데이터를 수신하면, 그 패킷의 목적지 IP 주소를 확인
### 2.라우팅 테이블 조회:
#### 라우터는 목적지 IP 주소와 일치하는 네트워크 주소를 라우팅 테이블에서 찾는다. 이때 가장 일치하는(즉, 가장 구체적인) 경로를 선택 
### 3.경로 선택:
#### 라우터는 일치하는 경로를 기반으로, 패킷을 어떤 게이트웨이로, 어떤 인터페이스를 통해 전달할지 결정 
### 4.패킷 전달:
#### 라우터는 결정된 경로를 따라 패킷을 다음 네트워크로 전달한다. 이 과정이 반복되면서 패킷은 최종 목적지에 도달하게 됩니다.
*** ******* ******  *********** 
# 라우터에 내장된  NAT (Network Address Translation, 네트워크 주소 변환)
![image](https://github.com/user-attachments/assets/295cb43a-35ed-4456-ab0a-067ee00a39cd)
![image](https://github.com/user-attachments/assets/fca7aae2-bc04-4c68-be99-aed6e39844ed)
NAT는 내부 네트워크의 사설 IP 주소들을 숨겨준다. 외부에서는 내부 네트워크 구조를 알 수 없기 때문에, 보안이 강화된다.
라우터는 NAT를 통해 공인 IP 주소 하나를 사용해 여러 내부 장치의 인터넷 연결을 관리한다. 이를 위해 라우터는 NAT 테이블을 사용해 각 장치의 사설 IP 주소와 포트 번호를 기억하고, 이를 바탕으로 외부로 나간 요청과 들어온 응답을 올바르게 연결한다. 이렇게 함으로써, 라우터는 외부에서 들어오는 데이터를 정확히 해당 장치로 전달할 수 있다 
*** ******* ******  *********** 
# 정적 라우팅
### 관리자가 직접 설정하는 방법
### 입력된 라우팅 정보가 수정하기 전에는 이전의 값이 변하지 않고 고정된 값을 유지하며 라우팅 정보는 관리자가 수동으로 입력한다.
### 네트워크의 규모가 크면 라우터의 숫자도 많아 입력해야 할 정보량도 증가하여 주로 규모가 작은 네트워크에서 정적 라우팅 기법을 사용한다.
### 네트워크 정보가 변경되면 그 내용을 모든 라우터에 일일이 업데이트해 주어야 한다.
*** ******* ******  *********** 
# 동적 라우팅
### 라우팅 프로토콜로 라우팅 테이블을 만들어내는 방법
### 라우팅 정보를 인접한 다른 라우터들과 자동으로 교환하여 라우팅 테이블을 자동으로 작성한다.
### 정적 라우팅 기법과는 다르게 네트워크 규모가 커져도 자동으로 라우팅 테이블을 갱신하기 때문에 규모가 큰 네트워크에서 사용이 가능하다.
*** ******* ******  *********** 
# 허브와 스위치
![image](https://github.com/user-attachments/assets/50dba423-832c-40ed-9e30-61395dea8e95)
## 1. 허브
허브는 단순 분배를 하는 중계 장치로써, 여러대의 컴퓨터를 연결하여 네트워크를 만들어 줄 수 있다.
데이터 패킷을 받으면 연결된 모든 장치들에게 보낸다. 모든 장치들이 데이터 패킷을 받고, 자신에게 온 데이터 패킷인지 확인하고 필요하면 취득한다.
## 2. 스위치
위치는 연결된 장치들의 IP와 MAC 주소를 모두 테이블 형태로 가지고, 원하는 목적지에 데이터 패킷을 전송하는 장치. 허브와 달리 스위치는 무작정 데이터 패킷을 뿌리는 것이 아니라, IP와 MAC 주소를 기반으로 필요한 장치에게만 데이터 패킷을 전송해준다.
스위치는 쉽게 생각하면 공유기라 생각하자
(다른 네트워크 통신을 하는지 같은 네트워크를 통신 하는지 구별해서 생각하면 된다.)
같은 네트워크에서 통신한다 -> 스위치
다른 네트워크에서 통신한다 -> 라우터
